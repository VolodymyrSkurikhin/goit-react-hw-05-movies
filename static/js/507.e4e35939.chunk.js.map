{"version":3,"file":"static/js/507.e4e35939.chunk.js","mappings":"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","sources":["components/LoadData.js","webpack://react-homework-template/./src/components/Pages/MovieDetails/MovieDetails.module.css?729c","components/Pages/MovieDetails/MovieDetails.js"],"sourcesContent":["const BASE_URL = `https://api.themoviedb.org/3`;\nconst API_KEY = `api_key=a96c6afcb6324213a620b6851c83fc98`;\nasync function LoadData(url) {\n  const response = await fetch(url);\n  return response.ok\n    ? await response.json()\n    : Promise.reject(new Error(`Sorry,try later`));\n}\nexport function fetchTrendMovies() {\n  const result = LoadData(`${BASE_URL}/trending/movie/week?${API_KEY}`);\n  console.log(result);\n  return result;\n}\nexport function fetchMovieDetails(Id) {\n  const result = LoadData(`${BASE_URL}/movie/${Id}?${API_KEY}&language=en-US`);\n  console.log(result);\n  return result;\n}\nexport function fetchOnSearch(searchWord) {\n  const result = LoadData(\n    `${BASE_URL}/search/movie?query=${searchWord}&${API_KEY}&language=en-US&page=1&include_adult=false`\n  );\n  console.log(result);\n  return result;\n}\nexport function fetchCast(Id) {\n  const result = LoadData(\n    `${BASE_URL}/movie/${Id}/credits?${API_KEY}&language=en-US`\n  );\n  console.log(result);\n  return result;\n}\nexport function fetchReviews(Id) {\n  const result = LoadData(\n    `${BASE_URL}/movie/${Id}/reviews?${API_KEY}&language=en-US&page=1`\n  );\n  console.log(result);\n  return result;\n}\n\n// https://api.themoviedb.org/3/movie/{movie_id}/reviews?api_key=<<api_key>>&language=en-US&page=1\n// https://api.themoviedb.org/3/movie/{movie_id}/credits?api_key=<<api_key>>&language=en-US\n// https://api.themoviedb.org/3/search/movie?api_key=<<api_key>>&language=en-US&page=1&include_adult=false\n// https://api.themoviedb.org/3/movie/{movie_id}?api_key=<<api_key>>&language=en-US\n","// extracted by mini-css-extract-plugin\nexport default {\"detailContainer\":\"MovieDetails_detailContainer__12B0K\",\"leftContainer\":\"MovieDetails_leftContainer__Bk0yO\",\"rightContainer\":\"MovieDetails_rightContainer__SJFoY\",\"title\":\"MovieDetails_title__EiCyk\",\"release_date\":\"MovieDetails_release_date__+qiyL\",\"sectionText\":\"MovieDetails_sectionText__ybnph\",\"sectionTitle\":\"MovieDetails_sectionTitle__TOjuN\",\"link\":\"MovieDetails_link__US4Vb\",\"active\":\"MovieDetails_active__mkOYS\"};","import React, { useEffect, useState, lazy, Suspense } from 'react';\nimport {\n  Route,\n  useParams,\n  NavLink,\n  Routes,\n  useLocation,\n} from 'react-router-dom';\nimport * as LoadData from '../../../components/LoadData';\n// import Cast from '../../Cast/Cast';\n// import Reviews from '../../Reviews/Reviews';\nimport s from './MovieDetails.module.css';\n\nconst Cast = lazy(() =>\n  import('../../Cast/Cast' /* webpackChunkname: \"Cast\" */)\n);\nconst Reviews = lazy(() =>\n  import('../../Reviews/Reviews' /* webpackChunkname: \"Reviews\" */)\n);\n\nexport default function MovieDetails() {\n  const location = useLocation();\n  const [movie, setMovie] = useState(null);\n  const { movieId } = useParams();\n  useEffect(() => {\n    LoadData.fetchMovieDetails(movieId)\n      .then(res => setMovie(res))\n      .catch(() => setMovie(''));\n  }, [movieId]);\n  function takeGenres(entries) {\n    if (!entries) {\n      return 'no info';\n    }\n    if (entries.length === 0) {\n      return 'No info';\n    }\n    return entries.map(entry => entry.name).join(', ');\n  }\n  return (\n    movie && (\n      <>\n        <NavLink to={location.state?.from ?? '/movies'}>\n          <button type=\"button\">Go back</button>\n        </NavLink>{' '}\n        <div className={s.detailContainer}>\n          <div className={s.leftContainer}>\n            {movie.poster_path ? (\n              <img\n                src={`https://image.tmdb.org/t/p/w500${movie.poster_path}`}\n                alt=\"Movie poster\"\n                className={s.poster}\n              />\n            ) : (\n              <h3>No poster</h3>\n            )}\n          </div>\n          <div className={s.rightContainer}>\n            <h1 className={s.title}>\n              {movie.original_title ? movie.original_title : ''}\n              {movie.release_date && (\n                <span className={s.release_date}>\n                  {`(${movie.release_date.slice(0, 4)})`}\n                </span>\n              )}\n            </h1>\n            <p className={s.sectionText}>\n              {movie.vote_average\n                ? `User score: ${(movie.vote_average * 10).toFixed()} %`\n                : 'No data'}\n            </p>\n            <h2 className={s.sectionTitle}>Overview</h2>\n            {movie.overview && movie.overview.length !== 0 ? (\n              <p className={s.sectionText}>{movie.overview}</p>\n            ) : (\n              <p className={s.sectionText}>No info</p>\n            )}\n            <h2 className={s.sectionTitle}>Genres</h2>\n            <p className={s.sectionText}>{takeGenres(movie.genres)}</p>\n          </div>\n        </div>\n        <hr />\n        <h2 className={s.sectionTitle}>Additional Information</h2>\n        <ul className={s.addInfoUl}>\n          <li className={s.addInfo}>\n            <NavLink\n              to=\"cast\"\n              state={{ from: location.state.from }}\n              className={({ isActive }) => (isActive ? s.active : s.link)}\n            >\n              Cast\n            </NavLink>\n          </li>\n          <li className={s.addInfo}>\n            <NavLink\n              to=\"reviews\"\n              state={{ from: location.state.from }}\n              className={({ isActive }) => (isActive ? s.active : s.link)}\n            >\n              Reviews\n            </NavLink>\n          </li>\n        </ul>\n        <hr />\n        <Suspense fallback={<h3>Loading...</h3>}>\n          <Routes>\n            <Route path=\"cast\" element={<Cast movieId={movieId} />} />\n            <Route path=\"reviews\" element={<Reviews movieId={movieId} />} />\n          </Routes>\n        </Suspense>\n      </>\n    )\n  );\n}\n"],"names":["BASE_URL","API_KEY","LoadData","url","fetch","response","ok","json","Promise","reject","Error","fetchTrendMovies","result","console","log","fetchMovieDetails","Id","fetchOnSearch","searchWord","fetchCast","fetchReviews","Cast","lazy","Reviews","MovieDetails","entries","location","useLocation","useState","movie","setMovie","movieId","useParams","useEffect","then","res","catch","to","state","from","type","className","s","poster_path","src","alt","original_title","release_date","slice","vote_average","toFixed","overview","length","genres","map","entry","name","join","isActive","Suspense","fallback","path","element"],"sourceRoot":""}