"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[502],{461:function(e,n,t){t.d(n,{Bt:function(){return h},Pb:function(){return m},Y5:function(){return f},_k:function(){return l},y:function(){return v}});var r=t(861),c=t(757),a=t.n(c),o="https://api.themoviedb.org/3",u="api_key=a96c6afcb6324213a620b6851c83fc98";function s(e){return i.apply(this,arguments)}function i(){return(i=(0,r.Z)(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n);case 2:if(!(t=e.sent).ok){e.next=9;break}return e.next=6,t.json();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=Promise.reject(new Error("Sorry,try later"));case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){var e=s("".concat(o,"/trending/movie/week?").concat(u));return console.log(e),e}function f(e){var n=s("".concat(o,"/movie/").concat(e,"?").concat(u,"&language=en-US"));return console.log(n),n}function m(e){var n=s("".concat(o,"/search/movie?query=").concat(e,"&").concat(u,"&language=en-US&page=1&include_adult=false"));return console.log(n),n}function v(e){var n=s("".concat(o,"/movie/").concat(e,"/credits?").concat(u,"&language=en-US"));return console.log(n),n}function h(e){var n=s("".concat(o,"/movie/").concat(e,"/reviews?").concat(u,"&language=en-US&page=1"));return console.log(n),n}},131:function(e,n,t){t.d(n,{Z:function(){return u}});t(791);var r=t(501),c=t(871),a="MovieList_listLink__EbNXd",o=t(184);function u(e){var n=e.moviesData,t=(0,c.TH)();console.log(t);var u=t.pathname.includes("/movies")?"":"movies/";return(0,o.jsx)("ul",{children:n.map((function(e){return(0,o.jsx)("li",{children:(0,o.jsx)(r.rU,{className:a,to:"".concat(u).concat(e.id),state:{from:t},children:e.title})},e.id)}))})}},502:function(e,n,t){t.r(n),t.d(n,{default:function(){return l}});var r=t(885),c=t(791),a=t(131),o=t(461),u=t(501),s={},i=t(184);function l(){var e,n=(0,u.lr)(),t=(0,r.Z)(n,2),l=t[0],f=t[1],m=null!==(e=l.get("query"))&&void 0!==e?e:"",v=(0,c.useState)(null),h=(0,r.Z)(v,2),p=h[0],g=h[1],d=(0,c.useState)(""),b=(0,r.Z)(d,2),x=b[0],k=b[1];return(0,c.useEffect)((function(){""!==m&&o.Pb(m).then((function(e){return g(e.results)})).catch((function(){return g("")}))}),[m]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("form",{className:s.form,onSubmit:function(e){e.preventDefault(),console.dir(e.currentTarget),""!==e.currentTarget.elements.searchInput.value?(f({query:e.currentTarget.elements.searchInput.value}),e.currentTarget.reset()):alert("Enter search, please!")},children:[(0,i.jsx)("input",{name:"searchInput",value:x,type:"text",className:s.input,onChange:function(e){k(e.target.value.trim())}}),(0,i.jsx)("button",{type:"submit",className:s.button,children:"Search"})]}),p&&0===p.length?(0,i.jsx)("h3",{children:"We don't have ".concat(m," movie, sorry...")}):p&&(0,i.jsx)(a.Z,{moviesData:p})]})}}}]);
//# sourceMappingURL=502.1a21660d.chunk.js.map